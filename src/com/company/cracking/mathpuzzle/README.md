# 수학 및 논리 퍼즐
### 소수
- 모든 자연수는 소수의 곱으로 나타낼 수 있는 규칙이 있다.
- 84 = 2^2^ * 3^1^ * 5^0^ * 7^1^ * 11^0^ ....
#### 소수판별
- 소수를 판별하기 위해선 $\sqrt(n)$ 까지만 판별하면 된다.
- 어떤 수로 나누어진다는 것은 보수가 존재한다는 뜻이다.
- $\sqrt(n)$보다 큰 수로 나누어진다는 것은 $\sqrt(n)$보다 작은 수로 나누어진다.
```java
boolean isPrime(int n){
  if ( n < 2 ) return false;

  int sqrt = (int) Math.sqrt(n);
  for(int i = 2; i < sqrt; i++){
    if(n % i == 0) return false;
  }
  return true;
}
```
#### 소수목록 만들기
- 모든 자연수는 소수의 곱으로 나타낼 수 있다는 규칙으로 소수 목록을 만들 수 있다.
- 1 ~ max까지의 값중에 소수를 찾기 위해선 1 ~ $\sqrt(n)$ 중의 소수에 대해서 나누어지는 값들을 제외시키면 된다.
- 짝수는 소수가 될수 없으니 flags에 홀수만 넣으면 공간을 반으로 줄일 수 있다.
```java
boolean[] primeList(int max){
  // true -> 소수가 아니다
  // false -> 소수이다.
  boolean[] flags = new boolean[max + 1];

  int prime = 2;
  while(prime < Math.sqrt(max)){
    deleteNotPrime(flags, prime);

    prime = NextPrime(flags, prime);
  }

  return flags;
}

void deleteNotPrime(boolean[] flags, int prime){
  for(int i = prime * prime; i < flags.length; i += prime){
    flags[i] = true;
  }
}

int NextPrime(boolean[] flags, int prime){
  int next = prime + 1;
  while(next < flags.length && flags[next]){
    next++;
  }
  return next;
}
```
#### 확률
- $P(A \cap B)$
  - $P(A \cap B)$ = P(B | A) P(A) (베이즈 정리)
  - 1 ~ 10의 숫자 중 5 이하이면서 짝수인 수의 확률?
  - P(A) = 1/2 = 5이하를 뽑을 확률
  - P(B | A) = 2/5 = 5 이하를 뽑을 때 짝수를 뽑을 확률
  - 그러므로 $P(A \cap B)$ = 1/5 = 20%
- $P(A \cup B)$
  - $P(A \cup B)$ = P(A) + P(B) - $P(A \cap B)$
  - 1 ~ 10숫자 중 5 이하를 뽑거나 짝수를 뽑을 확률?
  - P(A) = 1/2, P(B) = 1/2, $P(A \cap B)$ = 1/5
  - 1/2 + 1/2 - 1/5 = 4/5
#### 독립사건과 상호 배타적인 사건
- 독립성
  - A와 B가 독립 사건이면 $P(A \cap B)$ = P(B | A) P(A)에서 P(B | A)가 P(B)가 된다.
  - 독립사건이란 A사건의 발생이 B의 사건에 영향을 주지 않는다.
  - 그러므로 $P(A \cap B)$ = P(B) P(A)
- 상호 배타성
  - A와 B가 상호 배타적이라는 뜻은 A의 사건과 B의 사건이 동시에 발생할 수 없다는 것이다.
  - 즉 $P(A \cap B)$ = 0
  - 그러므로 $P(A \cup B)$ = P(A) + P(B)

##문제
#### 농구게임
- 농구골대가 하나 있을 때 게임 1의 확률이 p일 때 p값에 따라 어느 게임이 더 유리한지 선택하여라
- 게임1: 슛을 한 번쏴서 골 넣기
- 게임2: 슛을 세 번 쏴서 두 번 이상 골 넣기

게임 1에서 이길 확률: p

게임 2에서 이길 확률
- 슛을 n번 쐈을 떄 k번 넣을 확률을 s(k, n)이라고 할 때
- 게임 2에서 이길 확률은 s(2, 3) + s(3, 3)이다.
- s(3, 3) = p^3^
- s(2, 3) = P(1 성공, 2 성공, 3 실패) + P(1 성공, 2 실패, 3 성공) + P(1 실패, 2 성공, 3 성공)
- = 3p * p * (1 - p) = 3p^2^(1 - p)
- 그러므로 s(3, 3) + s(2, 3) = p^3^ + 3p^2^(1 - p) = 3p^2^ - 2p^3^

정답
- p(게임1 이길 확률) > 3p^2^ - 2p^3^(게임 2 이길 확률)이라고 과정 했을 때
- p - 3p^2^ + 2p^3^ > 0 = 2p^2^ - 3p + 1  > 0 이다
- 정리하면 (2p - 1)(p - 1) > 0, p는 1보다 작으므로 이 결과를 만족시키기 위해서는 (2p - 1) < 0 이여야 한다. 즉 p < 1/2 일 때 게임 1이 이길 확률이 높다.
- 그러므로 0 < p < 0.5 라면 게임1
- 0.5 < p < 1이라면 게임2를 선택하면 된다.
- p가 0, 0.5, 1이라면 위의 비교식이 0이 되므로 두 게임의 확률은 같다.

#### 삼각형 위의 개미
- 개미 세마리가 삼각형의 각 꼭짓점에 있다 개미 세 마리가 모서리를 따라 걷기 시작했을 때 개미들이 충돌할 확률은 얼마인가?, 같은 확률로 두 방향 중 하나를 선택한다.
- 개미들이 충돌할 확률 = 1 - 충돌하지 않을 확률
- 충돌하지 않을 확률 = P(모든 개미가 시계 방향으로 갈 확률) + P(모든 개미가 반 시계 방향으로 갈 확률) = (1/2)^3^ + (1/2)^3^ = 1/ 4이다.
- n각형의 n마리 개미들이 충돌할 확률 = 1 - (1 / 2^n-1^) 
